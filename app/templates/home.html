{% extends "base.html" %}

{% block content %}

<div class="container-fluid">
    <div class="row">
        <div class="col-md-2">
            <!-- Sidebar -->
            <div class="homesidebar">
                <a href="{{ url_for('main.home', filter='all') }}" class=" top2 {{'active' if filter == 'all' else '' }}">All Posts</a> 
                <a href="{{ url_for('main.home', filter='following') }}" class=" top2 requires-auth {{'active' if filter == 'following' else '' }}">Follow Posts</a> <br><br>
                <!-- Add Post button -->
                <a href="{{ url_for('main.upload_product') }}" class="requires-auth add-post-btn" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Add New Post" id="addPostButton">
                    <i class="material-icons add-icon" style="font-size:60px">add_box</i>
                </a>
                <br>
            </div>
        </div>
        
        <div class="col-md-10">
            <!-- Post Board -->
            <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4">
                {% for post in posts %}
                <div class="col">

                    <a href="{{ url_for('main.show_post', post_id=post.id) }}" class="post-card-link">

                        <div class="card h-100 post-card">
                            {% if post.img %}
                            <img src="{{ url_for('static', filename='post_image/' + post.img) }}" class="card-img-top" alt="{{ post.title }}" style="height: 200px; object-fit: cover;">
                            {% else %}
                            <img src="{{ url_for('static', filename='post_image/default.jpg') }}" class="card-img-top" alt="Default Image" style="height: 200px; object-fit: cover;">
                            {% endif %}
                            <div class="card-body">
                                <h5 class="card-title">{{ post.title }}</h5>
                            </div>
                            <div class="card-footer d-flex justify-content-between">
                                <small class="text-muted"><i class="bi bi-heart"></i> {{ post.likes }}</small>
                                <small class="text-muted"><i class="bi bi-chat-dots"></i> {{ post.comments.count() }}</small>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
            <!-- Pagination -->
            <br>
            <br>
            <br>
            <br>
            <br>
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item"><a class="page-link" href="#">Previous</a></li>
                    <!-- Dynamic Pagination Links -->
                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                </ul>
            </nav>
        </div>
    </div>
</div>
<script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })
</script>
<h1>home </h1>
<h1>home </h1><h1>home </h1>
<h1>home </h1>

<h1>home </h1>
<h1>home </h1>
<h1>home </h1>
<h1>home </h1>
<h1>home </h1>



{% endblock %}