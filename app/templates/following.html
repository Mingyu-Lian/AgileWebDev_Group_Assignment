{% extends "base.html" %}

{% block content %}
<div class="container followsection">
    <h2>{{ user.details.name }} is Following</h2>
    <br>
    <div class="list-group">
        {% for followee in following %}
        <a href="{{ url_for('main.channel', user_id=followee.id) }}" class="list-group-item list-group-item-action d-flex align-items-center">
            {% if followee.details and followee.details.img %}
                <!-- show user's icon if icon exist -->
                <img src="{{ url_for('static', filename='user_icon/uploads/' + followee.details.img) }}" alt="{{ followee.details.name }}'s Avatar" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 10px;">
            {% else %}
                <!-- show default icon if icon not set -->
                <img src="{{ url_for('static', filename='user_icon/default_user_icon.jpg') }}" alt="Default Avatar" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 10px;">
            {% endif %}
            {{ followee.details.name if followee.details and followee.details.name else followee.username }}
        </a>
        {% endfor %}
    </div>
</div>
{% endblock %}
